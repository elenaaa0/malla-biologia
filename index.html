<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva con Correlativas</title>
  <style>
    body { font-family:sans-serif; padding:20px; background:#f0f0f0; }
    h1 { color:#2a4d69; text-align:center; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:10px; }
    button { padding:10px; border:none; border-radius:6px; cursor:pointer; transition:0.3s; }
    .done { text-decoration:line-through; background:#b3d9b3; }
    .locked { background:#f2dede; color:#999; cursor:not-allowed; }
    .unlock { background:#d9edf7; }
  </style>
</head>
<body>
  <h1>Mi Malla ‚Äì Correlativas üå±</h1>
  <div class="grid">
    <button id="10-02001">Matem√°tica</button>
    <button id="10-01828">Biolog√≠a</button>
    <button id="10-03003" class="locked" disabled>Matem√°tica I</button>
    <button id="10-03000" class="locked" disabled>Introducci√≥n a la Biolog√≠a</button>
    <button id="10-03001" class="locked" disabled>Qu√≠mica General</button>
    <button id="10-03007" class="locked" disabled>Fundamentos de Evoluci√≥n</button>
  </div>

<script>
  const correlativas = {
    "10-03003": ["10-02001"],
    "10-03000": ["10-01828"],
    "10-03001": ["10-03038"],
    "10-03007": ["10-03000"]
  };
  const all = ["10-02001","10-01828","10-03003","10-03000","10-03001","10-03007"];
  const btn = {};
  all.forEach(id => btn[id] = document.getElementById(id));
  
  function guardar() { localStorage.setItem("malla", JSON.stringify(done)); }
  let done = JSON.parse(localStorage.getItem("malla")||"{}");
  
  function actualizar() {
    all.forEach(id => {
      if(done[id]) {
        btn[id].classList.add("done");
        btn[id].disabled = false;
      } else {
        btn[id].classList.remove("done");
        btn[id].disabled = false;
      }
      if(correlativas[id]) {
        const ok = correlativas[id].every(c => done[c]);
        if(!ok && !done[id]) {
          btn[id].classList.add("locked");
          btn[id].disabled = true;
        } else {
          btn[id].classList.remove("locked");
          if(!done[id]) btn[id].classList.add("unlock");
        }
      }
    });
  }
  
  all.forEach(id => btn[id].addEventListener("click", () =>{
    done[id] = !done[id];
    guardar();
    actualizar();
  }));

  actualizar();
</script>
</body>
</html>
